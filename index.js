function ___$insertStyle(e){if(e&&"undefined"!=typeof window){var r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerHTML=e,document.head.appendChild(r),e}}Object.defineProperty(exports,"__esModule",{value:!0});var react=require("react"),__assign=function(){return(__assign=Object.assign||function(e){for(var r,a=1,t=arguments.length;a<t;a++)for(var o in r=arguments[a])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function __spreadArrays(){for(var e=0,r=0,a=arguments.length;r<a;r++)e+=arguments[r].length;for(var t=Array(e),o=0,r=0;r<a;r++)for(var n=arguments[r],s=0,i=n.length;s<i;s++,o++)t[o]=n[s];return t}var validateInitialValue=function(e){return"object"!=typeof e||null===e||Array.isArray(e)||(console.log("you have passed a object when a array is required. It still may work however. Please pass a array."),e=__spreadArrays(e)),Array.isArray(e)||(console.log("you really want to break the validation. Please pass a array as parameter. Defaulting to []."),e=[]),e},useSortable=function(e,r){void 0===r&&(r={bookMarks:[],key:"",direction:"",search:"",value:""});function t(e,r){r=r||"ascending",n&&n.key===e&&"ascending"===n.direction&&(r="descending");var a=new URLSearchParams(window.location.search);a.set("sort",e.toString()),a.set("d",r);var t=0<a.toString().indexOf("null")?""+window.location.pathname:window.location.pathname+"?"+a.toString();window.history.replaceState({},"",t),s(__assign(__assign({},n),{key:e.toString()&&e.toString(),direction:r}))}var a=validateInitialValue(e),o=react.useState(r),n=o[0],s=o[1],i=JSON.parse(window.localStorage.getItem("book-mark")||"[]"),c=react.useMemo(function(){var e=__spreadArrays(a);return null!==n&&null!==n.key&&e.sort(function(e,r){return e[n.key]<r[n.key]?"ascending"===n.direction?-1:1:e[n.key]>r[n.key]?"ascending"===n.direction?1:-1:0}),null!==n&&n.search&&n.value&&(e=e.filter(function(e){return e[n.search].toLowerCase().includes(n.value.toLowerCase())}).sort(function(e,r){return e[n.search].toLowerCase().indexOf(n.value.toLowerCase())>r[n.search].toLowerCase().indexOf(n.value.toLowerCase())||!(e[n.search].toLowerCase().indexOf(n.value.toLowerCase())<r[n.search].toLowerCase().indexOf(n.value.toLowerCase()))&&e[n.search]>r[n.search]?1:-1})),n.bookMarks&&n.bookMarks.forEach(function(a){e.sort(function(e,r){return e.id===a?-1:r.id===a?1:0})}),e},[e,n]);return react.useEffect(function(){var e=new URLSearchParams(window.location.search),r=e.get("sort")||"",a=e.get("d")||"";t(r,a),s(__assign(__assign({},n),{key:r,direction:a,bookMarks:i}))},[]),{items:c,requestSort:t,requestSearch:function(e,r){s(__assign(__assign({},n),{search:e&&e.toString(),value:r&&r.toString()}))},requestBookMark:function(r){var e,a;__spreadArrays(n.bookMarks).includes(r)?(e=__spreadArrays(n.bookMarks.filter(function(e){return e!==r})),s(__assign(__assign({},n),{bookMarks:e})),window.localStorage.setItem("book-mark",JSON.stringify(e))):(a=__spreadArrays(n.bookMarks,[r]),s(__assign(__assign({},n),{bookMarks:a})),window.localStorage.setItem("book-mark",JSON.stringify(a)))}}};useSortable.defaultProps={config:{bookMarks:[],key:"",direction:"",search:"",value:""}},module.exports=useSortable,module.exports.default=useSortable,exports.useSortable=useSortable;
//# sourceMappingURL=index.js.map
